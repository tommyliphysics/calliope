import{a as l,h as g,P as Xe,D as Ye,E as X,F as T,G as Y,n as He,H as N,I as D,J as ce,K as H,L as Ue,M as pe,g as J,r as _,N as Ge,O as U,d as Je,c as be,w as We,i as de,e as F,l as Ze,b as et}from"./index-CRNvfHPm.js";import{b as tt,h as at}from"./render-CveEzl2T.js";const rt={name:String};function nt(a){return l(()=>({type:"hidden",name:a.name,value:a.modelValue}))}function lt(a={}){return(r,u,o)=>{r[u](g("input",{class:"hidden"+(o||""),...a.value}))}}const W={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},ot=Object.keys(W);W.all=!0;function ve(a){const r={};for(const u of ot)a[u]===!0&&(r[u]=!0);return Object.keys(r).length===0?W:(r.horizontal===!0?r.left=r.right=!0:r.left===!0&&r.right===!0&&(r.horizontal=!0),r.vertical===!0?r.up=r.down=!0:r.up===!0&&r.down===!0&&(r.vertical=!0),r.horizontal===!0&&r.vertical===!0&&(r.all=!0),r)}const st=["INPUT","TEXTAREA"];function fe(a,r){return r.event===void 0&&a.target!==void 0&&a.target.draggable!==!0&&typeof r.handler=="function"&&st.includes(a.target.nodeName.toUpperCase())===!1&&(a.qClonedBy===void 0||a.qClonedBy.indexOf(r.uid)===-1)}function ut(){if(window.getSelection!==void 0){const a=window.getSelection();a.empty!==void 0?a.empty():a.removeAllRanges!==void 0&&(a.removeAllRanges(),Xe.is.mobile!==!0&&a.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function G(a,r,u){const o=D(a);let e,n=o.left-r.event.x,c=o.top-r.event.y,i=Math.abs(n),f=Math.abs(c);const d=r.direction;d.horizontal===!0&&d.vertical!==!0?e=n<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?e=c<0?"up":"down":d.up===!0&&c<0?(e="up",i>f&&(d.left===!0&&n<0?e="left":d.right===!0&&n>0&&(e="right"))):d.down===!0&&c>0?(e="down",i>f&&(d.left===!0&&n<0?e="left":d.right===!0&&n>0&&(e="right"))):d.left===!0&&n<0?(e="left",i<f&&(d.up===!0&&c<0?e="up":d.down===!0&&c>0&&(e="down"))):d.right===!0&&n>0&&(e="right",i<f&&(d.up===!0&&c<0?e="up":d.down===!0&&c>0&&(e="down")));let k=!1;if(e===void 0&&u===!1){if(r.event.isFirst===!0||r.event.lastDir===void 0)return{};e=r.event.lastDir,k=!0,e==="left"||e==="right"?(o.left-=n,i=0,n=0):(o.top-=c,f=0,c=0)}return{synthetic:k,payload:{evt:a,touch:r.event.mouse!==!0,mouse:r.event.mouse===!0,position:o,direction:e,isFirst:r.event.isFirst,isFinal:u===!0,duration:Date.now()-r.event.time,distance:{x:i,y:f},offset:{x:n,y:c},delta:{x:o.left-r.event.lastX,y:o.top-r.event.lastY}}}}let it=0;const ct=Ye({name:"touch-pan",beforeMount(a,{value:r,modifiers:u}){if(u.mouse!==!0&&T.has.touch!==!0)return;function o(n,c){u.mouse===!0&&c===!0?pe(n):(u.stop===!0&&H(n),u.prevent===!0&&ce(n))}const e={uid:"qvtp_"+it++,handler:r,modifiers:u,direction:ve(u),noop:He,mouseStart(n){fe(n,e)&&Ue(n)&&(N(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(n,!0))},touchStart(n){if(fe(n,e)){const c=n.target;N(e,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","passiveCapture"],[c,"touchend","end","passiveCapture"]]),e.start(n)}},start(n,c){if(T.is.firefox===!0&&Y(a,!0),e.lastEvt=n,c===!0||u.stop===!0){if(e.direction.all!==!0&&(c!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const d=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&ce(d),n.cancelBubble===!0&&H(d),Object.assign(d,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[e.uid]:n.qClonedBy.concat(e.uid)}),e.initialEvent={target:n.target,event:d}}H(n)}const{left:i,top:f}=D(n);e.event={x:i,y:f,time:Date.now(),mouse:c===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:i,lastY:f}},move(n){if(e.event===void 0)return;const c=D(n),i=c.left-e.event.x,f=c.top-e.event.y;if(i===0&&f===0)return;e.lastEvt=n;const d=e.event.mouse===!0,k=()=>{o(n,d);let y;u.preserveCursor!==!0&&u.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ut(),e.styleCleanup=p=>{if(e.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),d===!0){const B=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{B(),p()},50):B()}else p!==void 0&&p()}};if(e.event.detected===!0){e.event.isFirst!==!0&&o(n,e.event.mouse);const{payload:y,synthetic:p}=G(n,e,!1);y!==void 0&&(e.handler(y)===!1?e.end(n):(e.styleCleanup===void 0&&e.event.isFirst===!0&&k(),e.event.lastX=y.position.left,e.event.lastY=y.position.top,e.event.lastDir=p===!0?void 0:y.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||d===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){k(),e.event.detected=!0,e.move(n);return}const x=Math.abs(i),h=Math.abs(f);x!==h&&(e.direction.horizontal===!0&&x>h||e.direction.vertical===!0&&x<h||e.direction.up===!0&&x<h&&f<0||e.direction.down===!0&&x<h&&f>0||e.direction.left===!0&&x>h&&i<0||e.direction.right===!0&&x>h&&i>0?(e.event.detected=!0,e.move(n)):e.end(n,!0))},end(n,c){if(e.event!==void 0){if(X(e,"temp"),T.is.firefox===!0&&Y(a,!1),c===!0)e.styleCleanup?.(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(G(n===void 0?e.lastEvt:n,e).payload);const{payload:i}=G(n===void 0?e.lastEvt:n,e,!0),f=()=>{e.handler(i)};e.styleCleanup!==void 0?e.styleCleanup(f):f()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(a.__qtouchpan=e,u.mouse===!0){const n=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";N(e,"main",[[a,"mousedown","mouseStart",`passive${n}`]])}T.has.touch===!0&&N(e,"main",[[a,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[a,"touchmove","noop","notPassiveCapture"]])},updated(a,r){const u=a.__qtouchpan;u!==void 0&&(r.oldValue!==r.value&&(typeof value!="function"&&u.end(),u.handler=r.value),u.direction=ve(r.modifiers))},beforeUnmount(a){const r=a.__qtouchpan;r!==void 0&&(r.event!==void 0&&r.end(),X(r,"main"),X(r,"temp"),T.is.firefox===!0&&Y(a,!1),r.styleCleanup?.(),delete a.__qtouchpan)}}),dt={dark:{type:Boolean,default:null}};function vt(a,r){return l(()=>a.dark===null?r.dark.isActive:a.dark)}function E(a,r,u){return u<=r?r:Math.min(u,Math.max(r,a))}const me="q-slider__marker-labels",ft=a=>({value:a}),mt=({marker:a})=>g("div",{key:a.value,style:a.style,class:a.classes},a.label),he=[34,37,40,33,39,38],pt={...dt,...rt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},bt=["pan","update:modelValue","change"];function ht({updateValue:a,updatePosition:r,getDragging:u,formAttrs:o}){const{props:e,emit:n,slots:c,proxy:{$q:i}}=J(),f=vt(e,i),d=lt(o),k=_(!1),x=_(!1),h=_(!1),y=_(!1),p=l(()=>e.vertical===!0?"--v":"--h"),B=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),$=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(i.lang.rtl===!0)),S=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),M=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),b=l(()=>e.disable!==!0&&e.readonly!==!0&&S.value<M.value),q=l(()=>{if(e.step===0)return s=>s;const t=(String(e.step).trim().split(".")[1]||"").length;return s=>parseFloat(s.toFixed(t))}),L=l(()=>e.step===0?1:e.step),ge=l(()=>b.value===!0?e.tabindex||0:-1),R=l(()=>e.max-e.min),Z=l(()=>M.value-S.value),A=l(()=>V(S.value)),I=l(()=>V(M.value)),P=l(()=>e.vertical===!0?$.value===!0?"bottom":"top":$.value===!0?"right":"left"),ee=l(()=>e.vertical===!0?"height":"width"),ye=l(()=>e.vertical===!0?"width":"height"),te=l(()=>e.vertical===!0?"vertical":"horizontal"),Ce=l(()=>{const t={role:"slider","aria-valuemin":S.value,"aria-valuemax":M.value,"aria-orientation":te.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),ke=l(()=>`q-slider q-slider${p.value} q-slider--${k.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(b.value===!0?" q-slider--editable":""))+(h.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(f.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function z(t){const s="q-slider__"+t;return`${s} ${s}${p.value} ${s}${p.value}${B.value}`}function ae(t){const s="q-slider__"+t;return`${s} ${s}${p.value}`}const xe=l(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),Se=l(()=>ae("markers")+" absolute overflow-hidden"),$e=l(()=>ae("track-container")),Me=l(()=>z("pin")),qe=l(()=>z("label")),we=l(()=>z("text-container")),Le=l(()=>z("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),_e=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Be=l(()=>{const t={[ye.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Fe=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),re=l(()=>{const t=I.value-A.value,s={[P.value]:`${100*A.value}%`,[ee.value]:t===0?"2px":`${100*t}%`};return e.innerTrackImg!==void 0&&(s.backgroundImage=`url(${e.innerTrackImg}) !important`),s});function Ee(t){const{min:s,max:v,step:m}=e;let C=s+t*(v-s);if(m>0){const w=(C-S.value)%m;C+=(Math.abs(w)>=m/2?(w<0?-1:1)*m:0)-w}return C=q.value(C),E(C,S.value,M.value)}function V(t){return R.value===0?0:(t-e.min)/R.value}function Te(t,s){const v=D(t),m=e.vertical===!0?E((v.top-s.top)/s.height,0,1):E((v.left-s.left)/s.width,0,1);return E($.value===!0?1-m:m,A.value,I.value)}const ne=l(()=>Ge(e.markers)===!0?e.markers:L.value),le=l(()=>{const t=[],s=ne.value,v=e.max;let m=e.min;do t.push(m),m+=s;while(m<v);return t.push(v),t}),oe=l(()=>{const t=` ${me}${p.value}-`;return me+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${$.value===!0?"rtl":"ltr"}`}),O=l(()=>e.markerLabels===!1?null:Ae(e.markerLabels).map((t,s)=>({index:s,value:t.value,label:t.label||t.value,classes:oe.value+(t.classes!==void 0?" "+t.classes:""),style:{...ue(t.value),...t.style||{}}}))),se=l(()=>({markerList:O.value,markerMap:Pe.value,classes:oe.value,getStyle:ue})),Re=l(()=>{const t=Z.value===0?"2px":100*ne.value/Z.value;return{...re.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}});function Ae(t){if(t===!1)return null;if(t===!0)return le.value.map(ft);if(typeof t=="function")return le.value.map(v=>{const m=t(v);return U(m)===!0?{...m,value:v}:{value:v,label:m}});const s=({value:v})=>v>=e.min&&v<=e.max;return Array.isArray(t)===!0?t.map(v=>U(v)===!0?v:{value:v}).filter(s):Object.keys(t).map(v=>{const m=t[v],C=Number(v);return U(m)===!0?{...m,value:C}:{value:C,label:m}}).filter(s)}function ue(t){return{[P.value]:`${100*(t-e.min)/R.value}%`}}const Pe=l(()=>{if(e.markerLabels===!1)return null;const t={};return O.value.forEach(s=>{t[s.value]=s}),t});function ze(){if(c["marker-label-group"]!==void 0)return c["marker-label-group"](se.value);const t=c["marker-label"]||mt;return O.value.map(s=>t({marker:s,...se.value}))}const Ne=l(()=>[[ct,De,void 0,{[te.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function De(t){t.isFinal===!0?(y.value!==void 0&&(r(t.evt),t.touch===!0&&a(!0),y.value=void 0,n("pan","end")),k.value=!1,h.value=!1):t.isFirst===!0?(y.value=u(t.evt),r(t.evt),a(),k.value=!0,n("pan","start")):(r(t.evt),a())}function ie(){h.value=!1}function Ie(t){r(t,u(t)),a(),x.value=!0,k.value=!0,document.addEventListener("mouseup",j,!0)}function j(){x.value=!1,k.value=!1,a(!0),ie(),document.removeEventListener("mouseup",j,!0)}function Ve(t){r(t,u(t)),a(!0)}function Oe(t){he.includes(t.keyCode)&&a(!0)}function je(t){if(e.vertical===!0)return null;const s=i.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*s-1} * ${e.thumbSize} / 2 + ${50-100*s}%))`}}function Ke(t){const s=l(()=>x.value===!1&&(h.value===t.focusValue||h.value==="both")?" q-slider--focus":""),v=l(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${$.value===!0?"rtl":"ltr"} absolute non-selectable`+s.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),m=l(()=>({width:e.thumbSize,height:e.thumbSize,[P.value]:`${100*t.ratio.value}%`,zIndex:h.value===t.focusValue?2:void 0})),C=l(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),w=l(()=>je(t.ratio.value)),K=l(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const Q=[g("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[g("path",{d:e.thumbPath})]),g("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(Q.push(g("div",{class:Me.value+" absolute fit no-pointer-events"+C.value},[g("div",{class:qe.value,style:{minWidth:e.thumbSize}},[g("div",{class:we.value,style:w.value},[g("span",{class:K.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&d(Q,"push")),g("div",{class:v.value,style:m.value,...t.getNodeData()},Q)}}function Qe(t,s,v,m){const C=[];e.innerTrackColor!=="transparent"&&C.push(g("div",{key:"inner",class:Fe.value,style:re.value})),e.selectionColor!=="transparent"&&C.push(g("div",{key:"selection",class:xe.value,style:t.value})),e.markers!==!1&&C.push(g("div",{key:"marker",class:Se.value,style:Re.value})),m(C);const w=[tt("div",{key:"trackC",class:$e.value,tabindex:s.value,...v.value},[g("div",{class:_e.value,style:Be.value},C)],"slide",b.value,()=>Ne.value)];if(e.markerLabels!==!1){const K=e.switchMarkerLabelsSide===!0?"unshift":"push";w[K](g("div",{key:"markerL",class:Le.value},ze()))}return w}return Je(()=>{document.removeEventListener("mouseup",j,!0)}),{state:{active:k,focus:h,preventFocus:x,dragging:y,editable:b,classes:ke,tabindex:ge,attributes:Ce,roundValueFn:q,keyStep:L,trackLen:R,innerMin:S,innerMinRatio:A,innerMax:M,innerMaxRatio:I,positionProp:P,sizeProp:ee,isReversed:$},methods:{onActivate:Ie,onMobileClick:Ve,onBlur:ie,onKeyup:Oe,getContent:Qe,getThumbRenderFn:Ke,convertRatioToModel:Ee,convertModelToRatio:V,getDraggingRatio:Te}}}const gt=()=>({}),kt=be({name:"QSlider",props:{...pt,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:bt,setup(a,{emit:r}){const{proxy:{$q:u}}=J(),{state:o,methods:e}=ht({updateValue:p,updatePosition:$,getDragging:B,formAttrs:nt(a)}),n=_(null),c=_(0),i=_(0);function f(){i.value=a.modelValue===null?o.innerMin.value:E(a.modelValue,o.innerMin.value,o.innerMax.value)}We(()=>`${a.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,f),f();const d=l(()=>e.convertModelToRatio(i.value)),k=l(()=>o.active.value===!0?c.value:d.value),x=l(()=>{const b={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(k.value-o.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(b.backgroundImage=`url(${a.selectionImg}) !important`),b}),h=e.getThumbRenderFn({focusValue:!0,getNodeData:gt,ratio:k,label:l(()=>a.labelValue!==void 0?a.labelValue:i.value),thumbColor:l(()=>a.thumbColor||a.color),labelColor:l(()=>a.labelColor),labelTextColor:l(()=>a.labelTextColor)}),y=l(()=>o.editable.value!==!0?{}:u.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:S,onBlur:e.onBlur,onKeydown:M,onKeyup:e.onKeyup});function p(b){i.value!==a.modelValue&&r("update:modelValue",i.value),b===!0&&r("change",i.value)}function B(){return n.value.getBoundingClientRect()}function $(b,q=o.dragging.value){const L=e.getDraggingRatio(b,q);i.value=e.convertRatioToModel(L),c.value=a.snap!==!0||a.step===0?L:e.convertModelToRatio(i.value)}function S(){o.focus.value=!0}function M(b){if(he.includes(b.keyCode)===!1)return;pe(b);const q=([34,33].includes(b.keyCode)?10:1)*o.keyStep.value,L=([34,37,40].includes(b.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*q;i.value=E(o.roundValueFn.value(i.value+L),o.innerMin.value,o.innerMax.value),p()}return()=>{const b=e.getContent(x,o.tabindex,y,q=>{q.push(h())});return g("div",{ref:n,class:o.classes.value+(a.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":a.modelValue},b)}}}),xt=be({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(a,{slots:r}){const{proxy:{$q:u}}=J(),o=de(Ze,F);if(o===F)return console.error("QPage needs to be a deep child of QLayout"),F;if(de(et,F)===F)return console.error("QPage needs to be child of QPageContainer"),F;const n=l(()=>{const i=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof a.styleFn=="function"){const f=o.isContainer.value===!0?o.containerHeight.value:u.screen.height;return a.styleFn(i,f)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-i+"px":u.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":u.screen.height-i+"px"}}),c=l(()=>`q-page${a.padding===!0?" q-layout-padding":""}`);return()=>g("main",{class:c.value,style:n.value},at(r.default))}});export{xt as Q,kt as a};
